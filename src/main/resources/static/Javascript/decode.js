function triggerfupl(){document.getElementById("in-decqr").click()}function triggerfilename(){var e=document.getElementById("in-decqr"),t=document.getElementById("h4-filename");e.files.length>0?t.textContent="Uploaded File Name : "+e.files[0].name:t.textContent="No file selected"}function copyresult(){var e=document.getElementById("p-decmsg").textContent.replace("Decoded Text : ","");navigator.clipboard.writeText(e)}function decodeQRCode(){var e=new FormData;e.append("todecode",$("#in-decqr")[0].files[0]);var t=new FileReader;t.onload=function(e){var t='<h2 id="h2-userimg">Uploaded Image</h2>';$("#dv-decodeimg").html(t);t='<div id="dv-showimg"></div>';$("#dv-decodeimg").append(t);var d=e.target.result;$("#dv-showimg").html('<img src="'+d+'" alt="Uploaded Image" id="im-userqr">'),document.getElementById("im-userqr").style.position="relative";$("#dv-showimg").append('<div id="animation"></div>'),document.getElementById("dv-decodetext").style.justifyContent="Center";$("#dv-decodetext").html('<h2 id="h2-decstate-d" style="color:var(--primary-color);">Decoding your QR <br> Please wait</h2>')},t.readAsDataURL(e.get("todecode")),$.ajax({type:"POST",url:"decodeQR",data:e,processData:!1,contentType:!1,success:function(e){if("QR code not found in the image"!=e){document.getElementById("animation").remove(),document.getElementById("im-userqr").style.position="static",document.getElementById("dv-decodetext").style.justifyContent="flex-start";var t='<h2 id="h2-decstate-s">Decode Success</h2>';$("#dv-decodetext").html(t);$("#dv-decodetext").append('<div id="dv-copytext"><h2 id="h2-decheading">Decoded Text:</h2><span id="bt-copy" onclick="copyresult()" title="Copy Decoded Text"><svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 0 24 24" width="40px" fill="#000000"><path d="M0 0h24v24H0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg></span></div>');var d='<p id="p-decmsg">'+e+"</p>";$("#dv-decodetext").append(d)}else{document.getElementById("dv-decodetext").style.justifyContent="flex-start",document.getElementById("animation").remove(),document.getElementById("im-userqr").style.position="static";t='<h2 id="h2-decstate-f">Decode Failed</h2>';$("#dv-decodetext").html(t);$("#dv-decodetext").append('<p id="p-decmsg">Either there is no QR present in the image or it may be unreadable</p>')}},error:function(){document.getElementById("dv-decodetext").style.justifyContent="flex-start",document.getElementById("animation").remove(),document.getElementById("im-userqr").style.position="static";$("#dv-decodetext").html('<h2 id="h2-decstate-f">Decode Failed</h2>');$("#dv-decodetext").append('<p id="p-decmsg">An Error occured during decoding the qr, please retry</p>')}})}function DarkMode(){document.getElementById("viewmode").href="Css Dark Mode/decodedark.css",localStorage.setItem("view","dark")}function LightMode(){document.getElementById("viewmode").href="Css Light Mode/decodelight.css",localStorage.setItem("view","light")}function Modepreference(){"dark"===localStorage.getItem("view")?DarkMode():LightMode()}document.addEventListener("DOMContentLoaded",()=>{$.ajax({type:"POST",url:"/getBodyDecodeQr",processData:!1,contentType:!1,success:function(e){$("body").html(e)},error:function(){console.error("Error fetching body")}}),Modepreference()});